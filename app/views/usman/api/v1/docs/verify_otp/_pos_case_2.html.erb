<%

api_title = "Positive Case - 2 - should verify the otp if the device is verified, tac is accpted and return the api token"

api_input = <<-eos
Example:

POST #{request.base_url}/api/v1/verify_otp
{
  "otp": "11111",
  "uuid": "<REGISTERED UUID>",
  "mobile_number": "<REGISTERED MOBILE NUMBER>",
  "dialing_prefix": "+91"
}
eos

api_output = <<-eos
{
  "success": true,
  "alert": {
      "heading": "OTP was verified succesfully",
      "message": "You may need to accept the terms and conditions to get the API token if you have not yet finished the registration"
  },
  "data": {
      "api_token": "22431f28189e2c88ba58ee221f373931",
      "registration": {
        "id": 4,
        "user_id": "12",
        "country_id": 1,
        "city_id": "",
        "dialing_prefix": "+91",
        "mobile_number": "192837465",
        "status": "verified"
      },
      "profile": {
        "id": 12,
        "name": "Some Name",
        "gender": "Male",
        "email": "asd@asd.com",
        "date_of_birth": "10/10/1980"
      },
      "api_token": "<API Token for the device>"
    }
}
eos

%>

<%= render partial: "kuppayam/api/docs/example", locals: {
                                        negative_case: false,
                                        example_id: "pos_case_2",
                                        api_title: api_title,
                                        api_input: api_input,
                                        api_output: api_output 
                                      } %>